# LORIS PHP API Client
API for interacting with the LORIS Platform

This PHP package is automatically generated by the [OpenAPI Generator](https://github.com/OpenAPITools/openapi-generator) project:

- API version: 0.0.4
- Build package: openapi-generator (php)
- OpenAPI specification: [schema.yml](schema.yml)

For more information, please visit [https://github.com/aces/Loris](https://github.com/aces/Loris)

## Requirements

PHP 8.1 and later

## Installation & Usage
### Composer

To install the bindings via [Composer](http://getcomposer.org/), add the following to `composer.json`:

```json
{
  "repositories": [
    {
      "type": "git",
      "url": "https://github.com/aces/loris-php-client.git"
    }
  ],
  "require": {
    "loris/php-client": "dev-main"
  }
}
```

Then run `composer install`

### Manual Installation

Download the files and include `autoload.php`:

```php
require_once('/path/to/loris-php-client/vendor/autoload.php');
```

## Tests

To run the unit tests:

```bash
composer install
./vendor/bin/phpunit
```

## Getting Started

Please follow the [installation procedure](#installation--usage) and then run the following:

```php
<?php
require_once(__DIR__ . '/vendor/autoload.php');

use LORISClient\Configuration;
use LORISClient\Api\AuthenticationApi;
use LORISClient\Api\ClinicalApi;
use GuzzleHttp\Client;

// Configure API client
$config = Configuration::getDefaultConfiguration()
    ->setHost('https://loris.example.com/api/v0.0.3');

$httpClient = new Client(['verify' => true]);

// Authenticate and get token
$authApi = new AuthenticationApi($httpClient, $config);

try {
    $result = $authApi->authenticate([
        'username' => 'your_username',
        'password' => 'your_password'
    ]);
    
    $token = $result['token'];
    
    // Configure API with token
    $config->setAccessToken($token);
    
    // Use the Clinical API
    $clinicalApi = new ClinicalApi($httpClient, $config);
    
    
} catch (Exception $e) {
    echo 'Exception: ', $e->getMessage(), PHP_EOL;
}

?>
```

## Documentation for API Endpoints

All URIs are relative to your LORIS instance API endpoint (e.g., *https://loris.example.com/api/v0.0.3*)

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*AuthenticationApi* | [**authenticate**](docs/Api/AuthenticationApi.md#authenticate) | **POST** /login | Authenticate and obtain JWT token
*ClinicalApi* | [**getInstruments**](docs/Api/ClinicalApi.md#getinstruments) | **GET** /instruments | Get list of instruments
*ClinicalApi* | [**getCandidates**](docs/Api/ClinicalApi.md#getcandidates) | **GET** /candidates | Get list of candidates
*ClinicalApi* | [**createCandidate**](docs/Api/ClinicalApi.md#createcandidate) | **POST** /candidates | Create a new candidate
*ClinicalApi* | [**getCandidate**](docs/Api/ClinicalApi.md#getcandidate) | **GET** /candidates/{candID} | Get candidate details
*ClinicalApi* | [**getVisit**](docs/Api/ClinicalApi.md#getvisit) | **GET** /candidates/{candID}/{visitLabel} | Get visit information
*ClinicalApi* | [**createTimepoint**](docs/Api/ClinicalApi.md#createtimepoint) | **PUT** /candidates/{candID}/{visitLabel} | Create timepoint/visit
*ClinicalApi* | [**getInstrumentData**](docs/Api/ClinicalApi.md#getinstrumentdata) | **GET** /candidates/{candID}/{visitLabel}/instruments/{instrument} | Get instrument data
*ClinicalApi* | [**uploadInstrumentData**](docs/Api/ClinicalApi.md#uploadinstrumentdata) | **PUT** /candidates/{candID}/{visitLabel}/instruments/{instrument} | Upload instrument data
*ClinicalApi* | [**uploadInstrumentCSV**](docs/Api/ClinicalApi.md#uploadinstrumentcsv) | **POST** /instrument_manager/instrument_data | Bulk upload instrument data via CSV


## Documentation For Models

- [Authenticate200Response](docs/Model/Authenticate200Response.md)
- [AuthenticateRequest](docs/Model/AuthenticateRequest.md)
- [Candidate](docs/Model/Candidate.md)
- [CandidateCreate](docs/Model/CandidateCreate.md)
- [CandidateCreateCandidate](docs/Model/CandidateCreateCandidate.md)
- [CandidateDetail](docs/Model/CandidateDetail.md)
- [CreateCandidate201Response](docs/Model/CreateCandidate201Response.md)
- [CreateCandidate201ResponseMeta](docs/Model/CreateCandidate201ResponseMeta.md)
- [GetCandidates200Response](docs/Model/GetCandidates200Response.md)
- [GetInstruments200Response](docs/Model/GetInstruments200Response.md)
- [GetInstruments401Response](docs/Model/GetInstruments401Response.md)
- [UploadInstrumentCSV200Response](docs/Model/UploadInstrumentCSV200Response.md)
- [Visit](docs/Model/Visit.md)
- [VisitCreate](docs/Model/VisitCreate.md)


## Documentation For Authorization


## BearerAuth

- **Type**: HTTP Bearer Token authentication
- **Bearer format**: JWT
- **Description**: JWT token obtained from /login endpoint

Example:
```php
$config = Configuration::getDefaultConfiguration()
    ->setAccessToken('YOUR_JWT_TOKEN');
```


## Development

This client is generated from the OpenAPI specification using OpenAPI Generator.

To regenerate the client:

```bash
./generate.sh
```

Or manually:

```bash
openapi-generator-cli generate \
  -i schema.yml \
  -g php \
  -o . \
  -c openapi-config.json \
  --additional-properties=composerPackageName=loris/php-client
```

## API Version Compatibility

This client supports LORIS API versions:
- v0.0.3
- v0.0.4

Configure the version in the base URL:
```php
$config->setHost('https://loris.example.com/api/v0.0.3');
```

## Contributing

Issues and pull requests are welcome on [GitHub](https://github.com/aces/loris-php-client).

## License

[GPL-3.0](LICENSE)

## Related Projects

- [LORIS](https://github.com/aces/Loris) - Longitudinal Online Research and Imaging System
## Author

The LORIS Team